<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<title>Rutas en Moto – Cangas de Onís (Sin Autopistas)</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css"/>
<script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>

<style>
body { margin:0; font-family: Arial, sans-serif; }
#map { height:100vh; }
.legend {
    background:white;
    padding:10px;
    font-size:14px;
    line-height:1.5em;
}
.legend span {
    width:14px;
    height:14px;
    display:inline-block;
    margin-right:6px;
}
</style>
</head>

<body>
<div id="map"></div>

<script>
const map = L.map('map').setView([43.351, -5.128], 9);

L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
    attribution: '© OpenStreetMap'
}).addTo(map);

const llenin = [43.351, -5.128];
L.marker(llenin).addTo(map).bindPopup("Llenín – Cangas de Onís");

// RUTAS SIN AUTOPISTAS (aproximadas, carreteras secundarias)
const rutas = [
    {
        nombre: "Día 1 – Beyos y Riaño (sur, sin autopistas)",
        color: "red",
        puntos: [
            llenin,
            [43.187, -5.079],   // Beyos
            [43.002, -5.003],   // Puerto del Pontón
            [42.977, -5.012],   // Riaño
            [43.081, -5.216],   // Maraña
            llenin
        ]
    },
    {
        nombre: "Día 2 – Picos de Europa / Cares (este, sin autopistas)",
        color: "blue",
        puntos: [
            llenin,
            [43.325, -4.889],   // Arenas de Cabrales
            [43.295, -4.805],   // Poncebos
            [43.246, -4.889],   // Caín
            [43.140, -4.725],   // Posada de Valdeón
            llenin
        ]
    },
    {
        nombre: "Día 3 – Hermida y Liébana (noreste, sin autopistas)",
        color: "green",
        puntos: [
            llenin,
            [43.308, -4.776],   // Panes
            [43.215, -4.621],   // Desfiladero Hermida
            [43.155, -4.622],   // Potes
            [43.189, -4.804],   // Tresviso
            llenin
        ]
    },
    {
        nombre: "Día 4 – Puertos de Tarna y San Isidro (suroeste, sin autopistas)",
        color: "orange",
        puntos: [
            llenin,
            [43.140, -5.348],   // Caso
            [43.038, -5.188],   // Puerto de Tarna
            [43.053, -5.431],   // San Isidro
            [43.177, -5.325],   // Felechosa
            llenin
        ]
    },
    {
        nombre: "Día 5 – Redes y Senda del Oso (oeste, sin autopistas)",
        color: "purple",
        puntos: [
            llenin,
            [43.259, -5.873],   // Proaza
            [43.181, -5.959],   // Teverga
            [43.140, -5.354],   // Caso
            llenin
        ]
    }
];

// Dibujar rutas
rutas.forEach(ruta => {
    L.polyline(ruta.puntos, {
        color: ruta.color,
        weight: 5,
        opacity: 0.85
    }).addTo(map).bindPopup(ruta.nombre);
});

// Leyenda
const legend = L.control({ position: "bottomright" });
legend.onAdd = function () {
    const div = L.DomUtil.create("div", "legend");
    div.innerHTML = `
    <strong>Rutas Moto – Sin Autopistas</strong><br>
    <span style="background:red"></span>Día 1 – Beyos & Riaño<br>
    <span style="background:blue"></span>Día 2 – Cares & Valdeón<br>
    <span style="background:green"></span>Día 3 – Hermida & Liébana<br>
    <span style="background:orange"></span>Día 4 – Tarna & San Isidro<br>
    <span style="background:purple"></span>Día 5 – Redes & Senda del Oso
    `;
    return div;
};
legend.addTo(map);
</script>

</body>
</html>
